<style>
    @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap');

    /* --- TABLE STYLES --- */
    .pricing-table-container {
        font-family: 'Poppins', sans-serif;
        overflow-x: auto;
        margin-bottom: 40px;
        border: 1px solid #eee;
        border-radius: 12px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.05);
        background: #fff;
    }

    .pricing-table {
        width: 100%;
        border-collapse: separate; 
        border-spacing: 0;
        min-width: 700px;
        background: #fff;
    }

    .pricing-table th {
        background-color: #f9f9f9;
        color: #222;
        font-weight: 700;
        padding: 25px 20px;
        text-align: center;
        border-bottom: 2px solid #eee;
        font-size: 18px;
        text-transform: uppercase;
        letter-spacing: 0.5px;
    }

    /* --- CHANGE: First Column Header (Off-Red Top) --- */
    .pricing-table th:first-child {
        text-align: left;
        width: 25%;
        background-color: #ffebee; /* Whitish/Off-Red Background */
        font-weight: 800;
        color: #b71c1c; /* Darker red text for contrast */
        border-right: 1px solid #eee; /* Ensure border is present */
    }

    .pricing-table td {
        padding: 18px 20px;
        border-bottom: 1px solid #f0f0f0;
        color: #555;
        text-align: center;
        vertical-align: middle;
        font-size: 14px;
        font-weight: 400;
        line-height: 1.6;
    }

    /* --- CHANGE: First Column Body Cells --- */
    .pricing-table td:first-child {
        text-align: left;
        font-weight: 600;
        color: #333;
        background-color: #fff; /* Back to white to let header pop */
        border-right: 1px solid #f5f5f5; /* Ensure border is present */
    }

    /* Vertical Dividers for Packages */
    .pricing-table td:nth-child(2), .pricing-table th:nth-child(2),
    .pricing-table td:nth-child(3), .pricing-table th:nth-child(3) { 
        border-right: 1px solid #f5f5f5; 
    }

    /* Price Row Styles */
    .price-row td {
        font-size: 22px;
        font-weight: 700;
        color: #000;
        padding-top: 30px;
        padding-bottom: 15px;
        border-bottom: none;
    }

    /* --- HIGHLIGHT STYLES --- */
    .col-selected {
        background-color: #fff0f0 !important;
        color: #000 !important;
        font-weight: 500;
    }
    
    .th-selected {
        background-color: #d32f2f !important;
        color: #fff !important;
        border-bottom-color: #d32f2f !important;
    }

    .select-btn {
        background-color: #222;
        color: #fff !important; 
        border: none;
        padding: 12px 30px;
        border-radius: 50px;
        cursor: pointer;
        font-family: 'Poppins', sans-serif;
        font-weight: 600;
        font-size: 13px;
        transition: all 0.3s ease;
        text-transform: uppercase;
        letter-spacing: 1px;
    }
    
    .select-btn:hover {
        background-color: #d32f2f;
        transform: translateY(-2px);
    }
    
    .select-btn.active-btn {
        background-color: #d32f2f;
        box-shadow: 0 5px 15px rgba(211, 47, 47, 0.4);
    }

    /* --- BLOG SECTION --- */
    #blog-section {
        display: none;
        max-width: 800px;
        margin: 40px auto;
        padding: 35px;
        background: #fff;
        border: 2px dashed #ddd;
        border-radius: 12px;
        text-align: center;
    }
    
    .blog-section-title {
        font-size: 20px;
        font-weight: 700;
        color: #222;
        margin-bottom: 5px;
    }
    
    .blog-pill-container {
        display: flex;
        justify-content: center;
        gap: 15px;
        margin-top: 25px;
        flex-wrap: wrap;
    }
    
    .blog-pill {
        padding: 12px 25px;
        border: 1px solid #ddd;
        border-radius: 8px;
        cursor: pointer;
        font-weight: 500;
        font-size: 14px;
        background: #f9f9f9;
        color: #333 !important;
        transition: all 0.2s;
    }
    
    .blog-pill:hover {
        border-color: #d32f2f;
        color: #d32f2f !important;
    }
    
    .blog-pill.active {
        background-color: #d32f2f;
        color: #fff !important;
        border-color: #d32f2f;
        box-shadow: 0 4px 10px rgba(211, 47, 47, 0.3);
    }

    /* --- TOTAL COST BAR --- */
    #total-cost-bar {
        display: none;
        margin-top: 20px;
        padding: 20px;
        background: #222;
        color: #fff;
        border-radius: 8px;
        text-align: center;
        font-size: 18px;
        animation: fadeIn 0.5s;
    }
    
    .total-price-text {
        font-size: 24px;
        font-weight: 700;
        color: #ff3366;
        margin-left: 10px;
    }

    @keyframes fadeIn {
        from { opacity: 0; transform: translateY(10px); }
        to { opacity: 1; transform: translateY(0); }
    }
</style>

<div class="pricing-table-container">
    <table class="pricing-table" id="main-pricing-table">
        <thead>
            <tr>
                <th>Service</th>
                <th id="head-pkg-1">Package 1</th>
                <th id="head-pkg-2">Package 2</th>
                <th id="head-pkg-3">Package 3</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>Content Design</td>
                <td class="col-pkg-1">12 Static Creative<br>2 Motion Graphics<br>1 Info Graphic</td>
                <td class="col-pkg-2">20 Static Creative<br>3 Motion Graphics<br>2 Info Graphics</td>
                <td class="col-pkg-3">30 Static Creative<br>5 Motion Graphics<br>4 Info Graphics<br><strong>2 Short Video Editing</strong></td>
            </tr>
            <tr>
                <td>Platform</td>
                <td class="col-pkg-1">Any</td>
                <td class="col-pkg-2">Any</td>
                <td class="col-pkg-3">Any</td>
            </tr>
            <tr>
                <td>MarTech Stack</td>
                <td class="col-pkg-1">Illustrator, Photoshop, After Effect</td>
                <td class="col-pkg-2">Illustrator, Photoshop, After Effect, Firefly</td>
                <td class="col-pkg-3">Illustrator, Photoshop, Premier Pro, Firefly, After Effect</td>
            </tr>
            <tr>
                <td>Caption Writing</td>
                <td class="col-pkg-1">100 Letter Caption</td>
                <td class="col-pkg-2">200 Letter Caption</td>
                <td class="col-pkg-3">300 Letter Caption</td>
            </tr>
            <tr>
                <td>Tag Research</td>
                <td class="col-pkg-1">5 Tags</td>
                <td class="col-pkg-2">8 Tags</td>
                <td class="col-pkg-3">12 Tags</td>
            </tr>
            <tr>
                <td>Revision</td>
                <td class="col-pkg-1">Two times revision per content</td>
                <td class="col-pkg-2">Three times revision per content</td>
                <td class="col-pkg-3">Unlimited revision per content</td>
            </tr>
            <tr>
                <td>Content Calendar</td>
                <td class="col-pkg-1">Monthly</td>
                <td class="col-pkg-2">Biweekly</td>
                <td class="col-pkg-3">Weekly</td>
            </tr>
             <tr>
                <td>Reporting / Meeting</td>
                <td class="col-pkg-1">2 Days in a week<br>(On demand)</td>
                <td class="col-pkg-2">3 Days in a week<br>(On demand)</td>
                <td class="col-pkg-3">Daily<br>(On demand)</td>
            </tr>
            
            <tr class="price-row">
                <td>Price</td>
                <td class="col-pkg-1">$500</td>
                <td class="col-pkg-2">$900</td>
                <td class="col-pkg-3">$1500</td>
            </tr>
            
            <tr>
                <td></td>
                <td class="col-pkg-1">
                    <button class="select-btn" onclick="selectTablePkg(1, 500)">Select</button>
                </td>
                <td class="col-pkg-2">
                    <button class="select-btn" onclick="selectTablePkg(2, 900)">Select</button>
                </td>
                <td class="col-pkg-3">
                    <button class="select-btn" onclick="selectTablePkg(3, 1500)">Select</button>
                </td>
            </tr>
        </tbody>
    </table>
</div>

<div id="blog-section">
    <div class="blog-section-title">Add Blog Writing Service?</div>
    <div style="font-size: 14px; color: #666;">Frequency: 1000-1500 Words/Blog</div>
    
    <div class="blog-pill-container">
        <div class="blog-pill" onclick="selectBlogOption(2, 200, this)">Weekly 2 (+$200)</div>
        <div class="blog-pill" onclick="selectBlogOption(4, 400, this)">Weekly 4 (+$400)</div>
        <div class="blog-pill" onclick="selectBlogOption(7, 700, this)">Weekly 7 (+$700)</div>
    </div>

    <div id="total-cost-bar">
        Estimated Total: <span class="total-price-text" id="display-total">$0</span>
    </div>
</div>

<script>
    let currentPkg = "";
    let pkgPrice = 0;
    
    let currentBlog = "";
    let blogPrice = 0;

    function selectTablePkg(pkgId, price) {
        // Visual Logic
        document.querySelectorAll('.col-selected').forEach(el => el.classList.remove('col-selected'));
        document.querySelectorAll('.th-selected').forEach(el => el.classList.remove('th-selected'));
        document.querySelectorAll('.select-btn').forEach(btn => {
            btn.classList.remove('active-btn');
            btn.innerText = "Select";
        });

        document.getElementById(`head-pkg-${pkgId}`).classList.add('th-selected');
        document.querySelectorAll(`.col-pkg-${pkgId}`).forEach(el => el.classList.add('col-selected'));
        let clickedBtn = document.querySelectorAll(`.col-pkg-${pkgId} .select-btn`)[0];
        clickedBtn.classList.add('active-btn');
        clickedBtn.innerText = "Selected";

        // Data Logic
        currentPkg = `Package ${pkgId}`;
        pkgPrice = price;
        
        document.getElementById('blog-section').style.display = 'block';
        document.getElementById('blog-section').scrollIntoView({behavior: "smooth"});
        document.getElementById('total-cost-bar').style.display = 'block';

        calculateAndSave();
    }

    function selectBlogOption(freq, price, element) {
        document.querySelectorAll('.blog-pill').forEach(p => p.classList.remove('active'));
        element.classList.add('active');

        currentBlog = ` + Blog Writing (Weekly ${freq})`;
        blogPrice = price;
        
        calculateAndSave();
    }

    function calculateAndSave() {
        let total = pkgPrice + blogPrice;
        
        document.getElementById('display-total').innerText = "$" + total;
        
        let finalString = `${currentPkg} ($${pkgPrice})`;
        if(currentBlog) {
            finalString += `${currentBlog} (+$${blogPrice})`;
        }
        finalString += ` | Total: $${total}`;

        // --- FIXED CONNECTION FOR YOUR FORM ---
        // We are now looking for the input with name="input_text"
        let formField = document.querySelector("input[name='input_text']");
        
        if(formField) {
            formField.value = finalString;
            // Tell Fluent Forms the value changed
            formField.dispatchEvent(new Event('change')); 
            formField.dispatchEvent(new Event('input'));
        } else {
            console.error("STILL NOT FOUND: Could not find input[name='input_text']");
        }
    }
</script>